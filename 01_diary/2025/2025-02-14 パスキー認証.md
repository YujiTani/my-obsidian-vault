---
tags:
  - diary
  - Auth
---

## TODO
- [x] パスキー認証実装
- [ ] DB設計
- [ ] 次のカジュアル面談したい企業を探す
	- [ ] YOUTRUSTのサービスでも情報を埋める
	- [x] 記事を再読する
## NOTE
### TODOの振り返り(成果について、それはなぜか)
パスキーが一番安全そうなので、パスキー認証実装方法を学ぶ
[Tutorial: How to Add Passkeys to Node.js (Express) App](https://www.corbado.com/blog/nodejs-passkeys)

このサービスでパスキー認証できそう
[Corbado Developer Panel](https://app.corbado.com/projects?status=all&product=all&page=1)
セッション認証や、JWTは認証後に何度も認証させないで済む仕組みなので、これも一緒に導入する必要がある
一旦セッションで良さそう
ソーシャルログインは、パスキー認証とゲストログイン機能を実装することでなんとかなるのではないかと思っている。

パスキーだとメルアド登録がいる？
ゲストログインさせて、メルアドは後で入力OK形式にする？メルアドのか？
メルアドなんでいるの？ユニークな値がなにか欲しいから？
だったらユーザー名をユニークにする？

ユーザー名は好きなのを付けたい
じゃ、ユーザーコードにする？システムでランダム生成してもたせる。
自由に変更もできるけど、重複できないので重複を弾くロジックをいれる

認証周りのシステムだけのデプロイを行う
- 基本認証: パスキー認証
	- 初期入力: ユーザー名, パスキーのPINコード
	- システム側で生成するもの
		- ユーザーコード：ランダム生成,変更可能
		- セッション or JWT
			- cookieに入れて返す

## ソーシャルログインの危険性
- ソーシャルログインを提供している親会社自体のセキュリティ対策が甘いと危険、LINEなどは情報が多量に流出した過去がある
- Google認証やApple認証がおすすめ

- いつまでも使えないかもしれないGAFAMも10年後どうなっているかは不明いつまでも使える機能とは限らない
- ソーシャルログインを使ったサービスはすべて、同じ認可をつかうことになってしまう
- アクセストークンが盗まれた場合に、対応できない
	- フィッシング詐欺
	- MITM(マンインザミドル)中間者攻撃などがある
	- 対応策：パスキー認証 盗むことができない(人は知り得ない上に、ドメインを見破ることができる)

パスキー認証で、アクセストークンが盗まれにくい状況を作れば、Googleなどのソーシャルログイン機能で、とりあえず楽にログインはできるようになるはず。

この記事をとうとう読んでみて、どのくらいイメージできるようになったか確認する
[ブラウザからDBに行き着くまでただまとめる](https://zenn.dev/moko_poi/articles/c2402f13a870a1)


### MEMO
メモしたいことを書く


### Wishlist
やりたいことを書く
